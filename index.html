<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrazione Evento</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Modulo di Registrazione per l'Evento</h1>
    <form id="EventForm" action="/registrazione" method="POST">
        <!-- Implementare i seguenti campi all'interno del form -->
        
        <!-- Nome completo -->
        <label for="nome-completo">Nome completo:</label>
        <input type="text" id="nome-completo" name="nome-completo" required><br><br>

        <!-- Email -->
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <!-- Numero di telefono -->
        <label for="telefono">Numero di telefono:</label>
        <input type="tel" id="telefono" name="telefono"><br><br>

        <!-- Data di nascita -->
        <label for="data-nascita">Data di nascita:</label>
        <input type="date" id="data-nascita" name="data-nascita"><br><br>

        <!-- Preferenza di partecipazione -->
        <p>Preferenza di partecipazione:</p>
        <input type="radio" id="in-presenza" name="partecipazione" value="in-presenza">
        <label for="in-presenza">In presenza</label><br>
        <input type="radio" id="online" name="partecipazione" value="online">
        <label for="online">Online</label><br><br>

        <!-- Lingue preferite -->
        <p>Lingue preferite:</p>
        <input type="checkbox" id="italiano" name="lingue" value="italiano">
        <label for="italiano">Italiano</label><br>
        <input type="checkbox" id="inglese" name="lingue" value="inglese">
        <label for="inglese">Inglese</label><br><br>

        <!-- Commenti o richieste speciali -->
        <label for="commenti">Commenti o richieste speciali:</label><br>
        <textarea id="commenti" name="commenti" rows="4" cols="50"></textarea><br><br>

        <!-- Checkbox per termini e condizioni -->
        <input type="checkbox" id="termini" name="termini" required>
        <label for="termini">Accetto i termini e le condizioni</label><br><br>

        <!-- Pulsante di invio -->
        <button type="submit">Invia</button>
    </form>
    <script>

        document.getElementById('EventForm').addEventListener('submit', function(e) 
        {
            e.preventDefault(); // Evita il comportamento di invio predefinito del form

            // Ottieni i valori di nome e cognome dal form
            const nome_c = document.getElementById('nome-completo').value;
            const mail_c = document.getElementById('email').value;
            
            // Se vuoi inviare il punteggio a Google Sheets, puoi aggiungerlo nel formData
            const formData = new FormData();
            formData.append('nome', nome_c); // Aggiunge il nome 
            formData.append('mail', mail_c); // Aggiunge la mail            
		
            // Invia i dati al Google Sheet (se necessario)
	        const scriptURL = 'https://script.google.com/macros/s/1Lzt7Qbd8MfitADDMTdvhbASyCBJvk4HmJThqTJPcfu0/exec'

            fetch(scriptURL, {
                method: 'POST',
                body: formData
            }).then(response => {
                console.log('Success!', response);
		        alert(`Quiz compilato con successo. Hai ottenuto un punteggio di ${punteggio}.`);
                // Reindirizza alla pagina di ringraziamenti (facoltativo)
                // window.location.href = `https://potasovvi.github.io/HP_quiz-V4/ringraziamenti.html`;
            }).catch(error => console.error('Error!', error.message));
        });

        }
	    
    </script>    
    
</body>
</html>
